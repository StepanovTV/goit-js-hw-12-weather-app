{"version":3,"sources":["webpack:///./template/weather.hbs","webpack:///./js/defs.js","webpack:///./js/fetchWeather.js","webpack:///./index.js","webpack:///./js/getGeoPosition.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","current","weather_icons","weather_descriptions","location","name","region","temperature","humidity","wind_speed","searchForm","document","querySelector","weather","preloder","bodyPreloder","query","fetch","then","response","ok","json","Error","statusText","drowwether","defs","reset","error","style","display","PNotify","notice","title","type","text","info","htmlData","wederTpl","innerHTML","window","onload","addEventListener","event","preventDefault","fetchWeather","target","elements","city","value","catch","err","message","stack","delay","Promise","remove","reject","navigator","geolocation","getCurrentPosition","maximumAge","coords","success","icons","latitude","longitude"],"mappings":"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","file":"main.f17d382049bc831a53ed.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<section class=\\\"weather is-hidden\\\" id=\\\"weather\\\">\\n  <h2>Current weather</h2>\\n  <img class=\\\"icon\\\" src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_icons : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_descriptions : stack1), depth0))\n    + \"\\\" />\\n\\n  <p>Location:</p>\\n  <p><span data-field=\\\"location\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.location : depth0)) != null ? stack1.name : stack1), depth0))\n    + \" , \"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.location : depth0)) != null ? stack1.region : stack1), depth0))\n    + \"</span></p>\\n  <p>Temperature: <span data-field=\\\"temp\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.temperature : stack1), depth0))\n    + \"&#8451;</span></p>\\n  <p>Humidity: <span data-field=\\\"humidity\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.humidity : stack1), depth0))\n    + \"</span></p>\\n  <p>Wind: <span data-field=\\\"wind\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.wind_speed : stack1), depth0))\n    + \"kph</span></p>\\n  <p>Conditions: <span data-field=\\\"conditions\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_descriptions : stack1), depth0))\n    + \"</span></p>\\n</section>\";\n},\"useData\":true});","export default {\n  searchForm: document.querySelector('#search-form'),\n  weather: document.querySelector('#weather'),\n  preloder: document.querySelector('.preloderel'),\n  bodyPreloder: document.querySelector('.preloderbody'),\n};\n","export default function (query) {\n  const params = {\n    base: 'https://cors-anywhere.herokuapp.com/http://api.weatherstack.com/current',\n    access_key: 'ff06c010f687a22c4f327a933864bf9c',\n    query,\n  };\n\n  return fetch(\n    `${params.base}?access_key=${params.access_key}&query=${params.query}&units=m`,\n  ).then((response) => {\n    if (response.ok) return response.json();\n    throw new Error(`Error while fetching: ${response.statusText}`);\n  });\n}\n","import PNotify from 'pnotify/dist/es/PNotify';\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons';\nimport getPosition from './js/getGeoPosition';\nimport fetchWeather from './js/fetchWeather';\nimport defs from './js/defs';\nimport wederTpl from './template/weather.hbs';\nimport 'pnotify/dist/PNotifyBrightTheme.css';\nimport './css/styles.css';\n\nwindow.onload = () => {\n  defs.bodyPreloder.style.display = 'none';\n};\n\nfunction drowwether(data) {\n  defs.searchForm.reset();\n  if (data.error) {\n    defs.preloder.style.display = 'none';\n    return PNotify.notice({\n      title: `Notice  ${data.error.type}`,\n      text: data.error.info,\n    });\n  }\n  const htmlData = wederTpl(data);\n  defs.weather.innerHTML = htmlData;\n  defs.preloder.style.display = 'none';\n  return true;\n}\n\ndefs.searchForm.addEventListener('submit', (event) => {\n  event.preventDefault();\n  defs.preloder.style.display = 'flex';\n  fetchWeather(event.target.elements.city.value)\n    .then((data) => {\n      drowwether(data);\n    })\n    .catch((err) => {\n      defs.preloder.style.display = 'none';\n      PNotify.error({\n        title: err.message,\n        text: err.stack,\n        delay: 3500,\n      });\n    });\n});\ngetPosition()\n  .then(({ coords }) => {\n    PNotify.success({\n      title: 'geolocation',\n      text: 'We have successfully received the geolocation',\n      icons: 'brighttheme',\n      delay: 3500,\n    });\n    fetchWeather(`${coords.latitude} ${coords.longitude}`)\n      .then((data) => {\n        drowwether(data);\n      })\n      .catch((err) => {\n        defs.preloder.style.display = 'none';\n        PNotify.error({\n          title: err.message,\n          text: err.stack,\n        });\n      });\n  })\n  .catch((error) => {\n    defs.preloder.style.display = 'none';\n    PNotify.notice({\n      title: 'Notice Location',\n      text: error.message,\n      delay: 3500,\n    });\n  });\n","import defs from './defs';\n\nexport default function () {\n  defs.preloder.style.display = 'flex';\n  return new Promise((remove, reject) => {\n    navigator.geolocation.getCurrentPosition(remove, reject, {\n      maximumAge: 30000,\n    });\n  });\n}\n"],"sourceRoot":""}